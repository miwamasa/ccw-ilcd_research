#!/bin/bash

# ç’°å¢ƒæƒ…å ±ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿é€£æºãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
# ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åŸºæœ¬æ§‹é€ ã‚’è‡ªå‹•çš„ã«ä½œæˆã—ã¾ã™

set -e

echo "=========================================="
echo "ç’°å¢ƒæƒ…å ±ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿é€£æº"
echo "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—"
echo "=========================================="
echo ""

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå
PROJECT_DIR="environmental-supply-chain-lca"

# æ—¢å­˜ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ãƒã‚§ãƒƒã‚¯
if [ -d "$PROJECT_DIR" ]; then
    echo "âš ï¸  è­¦å‘Š: $PROJECT_DIR ã¯æ—¢ã«å­˜åœ¨ã—ã¾ã™ã€‚"
    read -p "ä¸Šæ›¸ãã—ã¾ã™ã‹ï¼Ÿ (y/n): " -n 1 -r
    echo
    if [[ ! $REPLY =~ ^[Yy]$ ]]; then
        echo "âŒ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’ä¸­æ­¢ã—ã¾ã—ãŸã€‚"
        exit 1
    fi
    echo "ğŸ—‘ï¸  æ—¢å­˜ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å‰Šé™¤ä¸­..."
    rm -rf "$PROJECT_DIR"
fi

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®ä½œæˆ
echo "ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã‚’ä½œæˆä¸­..."
mkdir -p "$PROJECT_DIR"/{docs/{diagrams,examples,references},tests,assets/{css,js,data}}

# READMEã®ä½œæˆ
echo "ğŸ“ README.mdã‚’ä½œæˆä¸­..."
cat > "$PROJECT_DIR/README.md" << 'EOF'
# ç’°å¢ƒæƒ…å ±ã®ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿é€£æºãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

## æ¦‚è¦
ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€BOM/BOPã‹ã‚‰ILCDå½¢å¼ã‚’çµŒç”±ã—ãŸLCAåˆ†æã€
ãŠã‚ˆã³ISO/IEC 82474ã¨ã®é–¢ä¿‚æ€§ã«ã¤ã„ã¦èª¿æŸ»ã—ã€æ•™è‚²çš„ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æä¾›ã—ã¾ã™ã€‚

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ãŒæ­£å¸¸ã«ä½œæˆã•ã‚Œã¾ã—ãŸã€‚

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
1. `instructions.md`ã‚’ç¢ºèªã—ã¦ãã ã•ã„
2. Claude Codeã‚’ä½¿ç”¨ã—ã¦æˆæœç‰©ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„

è©³ç´°ã¯è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®README.mdã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
EOF

# ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
echo "ğŸ“„ ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆä¸­..."

# Report.md
cat > "$PROJECT_DIR/Report.md" << 'EOF'
# ç’°å¢ƒæƒ…å ±ã®ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿é€£æºèª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆ

> ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯èª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã§ã™ã€‚
> instructions.mdã«å¾“ã£ã¦å†…å®¹ã‚’è¨˜å…¥ã—ã¦ãã ã•ã„ã€‚

## ç›®æ¬¡

[Claude Codeã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚Œã¾ã™]
EOF

# TECHNICAL_NOTES.md
cat > "$PROJECT_DIR/TECHNICAL_NOTES.md" << 'EOF'
# æŠ€è¡“ãƒãƒ¼ãƒˆ

## å®Ÿè£…ã®è©³ç´°

[é–‹ç™ºä¸­ã«è¨˜éŒ²]

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æ±ºå®š

[é–‹ç™ºä¸­ã«è¨˜éŒ²]

## æ—¢çŸ¥ã®åˆ¶ç´„

[é–‹ç™ºä¸­ã«è¨˜éŒ²]
EOF

# DATA_SOURCES.md
cat > "$PROJECT_DIR/DATA_SOURCES.md" << 'EOF'
# ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹

## å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ ] ILCD Handbook
- [ ] ISO/IEC 82474 ä»•æ§˜æ›¸
- [ ] ISO 14040/14044

## å­¦è¡“æ–‡çŒ®

[èª¿æŸ»ä¸­ã«è¿½åŠ ]

## å–å¾—æ—¥ã¨å¼•ç”¨æ–¹æ³•

[èª¿æŸ»ä¸­ã«è¨˜éŒ²]
EOF

# DEVELOPMENT_LOG.md
cat > "$PROJECT_DIR/DEVELOPMENT_LOG.md" << 'EOF'
# é–‹ç™ºãƒ­ã‚°

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–‹å§‹æ—¥
[è¨˜éŒ²ã—ã¦ãã ã•ã„]

## ä¸»è¦ãªãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³

### Phase 1: æƒ…å ±åé›†
- [ ] é–‹å§‹æ—¥:
- [ ] å®Œäº†æ—¥:
- [ ] ä¸»ãªæˆæœ:

### Phase 2: ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ
- [ ] é–‹å§‹æ—¥:
- [ ] å®Œäº†æ—¥:
- [ ] ä¸»ãªæˆæœ:

### Phase 3: HTMLé–‹ç™º
- [ ] é–‹å§‹æ—¥:
- [ ] å®Œäº†æ—¥:
- [ ] ä¸»ãªæˆæœ:

### Phase 4: ãƒ†ã‚¹ãƒˆã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [ ] é–‹å§‹æ—¥:
- [ ] å®Œäº†æ—¥:
- [ ] ä¸»ãªæˆæœ:

## é‡è¦ãªæ±ºå®šäº‹é …

[é–‹ç™ºä¸­ã«è¨˜éŒ²]

## å•é¡Œã¨è§£æ±ºæ–¹æ³•

[é–‹ç™ºä¸­ã«è¨˜éŒ²]
EOF

# ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼
cat > "$PROJECT_DIR/tests/interactive_guide_tests.md" << 'EOF'
# ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚¬ã‚¤ãƒ‰ ãƒ†ã‚¹ãƒˆä»•æ§˜

## æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ

### TC-001: ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿
- **ç›®çš„**: [è¨˜è¿°ã—ã¦ãã ã•ã„]
- **æ‰‹é †**: [è¨˜è¿°ã—ã¦ãã ã•ã„]
- **æœŸå¾…çµæœ**: [è¨˜è¿°ã—ã¦ãã ã•ã„]
- **çµæœ**: [ ] åˆæ ¼ [ ] ä¸åˆæ ¼

[instructions.mdã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«å¾“ã£ã¦è¿½åŠ ã—ã¦ãã ã•ã„]
EOF

cat > "$PROJECT_DIR/tests/report_quality_checks.md" << 'EOF'
# ãƒ¬ãƒãƒ¼ãƒˆå“è³ªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

## æ§‹é€ ãƒã‚§ãƒƒã‚¯
- [ ] ã™ã¹ã¦ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒå«ã¾ã‚Œã¦ã„ã‚‹
- [ ] è¦‹å‡ºã—ãƒ¬ãƒ™ãƒ«ãŒé©åˆ‡

## ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒã‚§ãƒƒã‚¯
- [ ] å„ä¸»å¼µã«å¼•ç”¨ãŒã‚ã‚‹
- [ ] æŠ€è¡“ç”¨èªãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹

[instructions.mdã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«å¾“ã£ã¦è¿½åŠ ã—ã¦ãã ã•ã„]
EOF

# ã‚¢ã‚»ãƒƒãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼
cat > "$PROJECT_DIR/assets/css/styles.css" << 'EOF'
/* ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ
 * ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚¬ã‚¤ãƒ‰ç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¨˜è¿°
 */

:root {
    /* CSSå¤‰æ•° */
    --primary-color: #2c3e50;
    --secondary-color: #3498db;
    --accent-color: #e74c3c;
    --text-color: #333;
    --bg-color: #fff;
}

/* ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ« */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: var(--text-color);
    background-color: var(--bg-color);
    line-height: 1.6;
}

/* è¿½åŠ ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ã“ã“ã«è¨˜è¿° */
EOF

cat > "$PROJECT_DIR/assets/js/main.js" << 'EOF'
/**
 * ãƒ¡ã‚¤ãƒ³JavaScriptãƒ•ã‚¡ã‚¤ãƒ«
 * ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚¬ã‚¤ãƒ‰ã®ã‚³ã‚¢æ©Ÿèƒ½
 */

'use strict';

// ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆæœŸåŒ–
document.addEventListener('DOMContentLoaded', function() {
    console.log('ç’°å¢ƒæƒ…å ±ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ã‚¬ã‚¤ãƒ‰ - åˆæœŸåŒ–ä¸­...');
    
    // åˆæœŸåŒ–å‡¦ç†ã‚’ã“ã“ã«è¨˜è¿°
    initializeApp();
});

/**
 * ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆæœŸåŒ–
 */
function initializeApp() {
    // å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®åˆæœŸåŒ–
    console.log('ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£å¸¸ã«åˆæœŸåŒ–ã•ã‚Œã¾ã—ãŸã€‚');
}

// è¿½åŠ ã®æ©Ÿèƒ½ã‚’ã“ã“ã«è¨˜è¿°
EOF

# ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«
cat > "$PROJECT_DIR/assets/data/terminology.json" << 'EOF'
{
  "terms": [
    {
      "term": "BOM",
      "fullName": "Bill of Materials",
      "definition": "è£½å“ã‚’æ§‹æˆã™ã‚‹éƒ¨å“ã‚„ææ–™ã®è©³ç´°ãƒªã‚¹ãƒˆ",
      "category": "åŸºç¤"
    },
    {
      "term": "ILCD",
      "fullName": "International Reference Life Cycle Data System",
      "definition": "æ¬§å·å§”å“¡ä¼šãŒé–‹ç™ºã—ãŸLCAãƒ‡ãƒ¼ã‚¿äº¤æ›ã®å›½éš›æ¨™æº–",
      "category": "æ¨™æº–"
    },
    {
      "term": "ISO/IEC 82474",
      "fullName": "Material declaration standard",
      "definition": "ææ–™å®£è¨€ã®ãŸã‚ã®å›½éš›æ¨™æº–è¦æ ¼",
      "category": "æ¨™æº–"
    }
  ]
}
EOF

# ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–HTMLã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼
cat > "$PROJECT_DIR/interactive_guide.html" << 'EOF'
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ç’°å¢ƒæƒ…å ±ã®ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿é€£æºã«é–¢ã™ã‚‹ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚¬ã‚¤ãƒ‰">
    <title>ç’°å¢ƒæƒ…å ±ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿é€£æº - ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚¬ã‚¤ãƒ‰</title>
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
    <header>
        <h1>ç’°å¢ƒæƒ…å ±ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿é€£æº</h1>
        <nav>
            <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ã“ã“ã«è¿½åŠ  -->
        </nav>
    </header>

    <main>
        <section id="overview">
            <h2>æ¦‚è¦</h2>
            <p>ã“ã®ã‚¬ã‚¤ãƒ‰ã¯é–‹ç™ºä¸­ã§ã™ã€‚instructions.mdã«å¾“ã£ã¦å†…å®¹ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>
        </section>

        <!-- è¿½åŠ ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’instructions.mdã«å¾“ã£ã¦å®Ÿè£… -->
    </main>

    <footer>
        <p>&copy; 2025 ç’°å¢ƒæƒ…å ±ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿é€£æºãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</p>
    </footer>

    <script src="assets/js/main.js"></script>
</body>
</html>
EOF

# docsãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«
cat > "$PROJECT_DIR/docs/diagrams/data_flow.mmd" << 'EOF'
graph TB
    A[BOM/BOP ãƒ‡ãƒ¼ã‚¿] --> B[ææ–™æƒ…å ±æŠ½å‡º]
    B --> C[ISO/IEC 82474<br/>ææ–™å®£è¨€]
    C --> D[ILCDå½¢å¼<br/>ãƒ‡ãƒ¼ã‚¿å¤‰æ›]
    D --> E[LCAãƒ„ãƒ¼ãƒ«]
    E --> F[ç’°å¢ƒå½±éŸ¿è©•ä¾¡]
    
    style A fill:#e1f5ff
    style C fill:#fff4e1
    style D fill:#ffe1f5
    style F fill:#e1ffe1
EOF

cat > "$PROJECT_DIR/docs/references/terminology.md" << 'EOF'
# ç”¨èªé›†

## A
- **LCA (Life Cycle Assessment)**: ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆ

## B
- **BOM (Bill of Materials)**: éƒ¨å“è¡¨
- **BOP (Bill of Process)**: å·¥ç¨‹è¡¨

## I
- **ILCD**: International Reference Life Cycle Data System
- **ISO/IEC 82474**: ææ–™å®£è¨€ã®å›½éš›æ¨™æº–

[instructions.mdã«å¾“ã£ã¦æ‹¡å¼µã—ã¦ãã ã•ã„]
EOF

# .gitignoreã®ä½œæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
cat > "$PROJECT_DIR/.gitignore" << 'EOF'
# OS
.DS_Store
Thumbs.db

# ã‚¨ãƒ‡ã‚£ã‚¿
.vscode/
.idea/
*.swp
*.swo
*~

# ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«
*.tmp
*.bak

# ãƒ­ã‚°
*.log

# ã‚«ãƒãƒ¬ãƒƒã‚¸
coverage/

# ãƒ“ãƒ«ãƒ‰ç”Ÿæˆç‰©
dist/
build/
EOF

echo "âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®ä½œæˆãŒå®Œäº†ã—ã¾ã—ãŸï¼"
echo ""
echo "ğŸ“Š ä½œæˆã•ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ :"
echo ""
tree -L 3 "$PROJECT_DIR" 2>/dev/null || find "$PROJECT_DIR" -type d | sed 's|[^/]*/| |g'
echo ""
echo "ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:"
echo "1. cd $PROJECT_DIR"
echo "2. instructions.mdã‚’ç¢ºèª"
echo "3. Claude Codeã§é–‹ç™ºã‚’é–‹å§‹"
echo ""
echo "ğŸ“š é‡è¦ãªãƒ•ã‚¡ã‚¤ãƒ«:"
echo "  - instructions.md: è©³ç´°ãªé–‹ç™ºæŒ‡ç¤º"
echo "  - README.md: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦"
echo "  - Report.md: èª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆï¼ˆé–‹ç™ºå¯¾è±¡ï¼‰"
echo "  - interactive_guide.html: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚¬ã‚¤ãƒ‰ï¼ˆé–‹ç™ºå¯¾è±¡ï¼‰"
echo ""
echo "=========================================="
echo "ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†ï¼ ğŸ‰"
echo "=========================================="
